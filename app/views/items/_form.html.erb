<% content_for :error do %>
  <% if @item.errors.any? %>
    <div id="error_explanation">
      <ul>
        <% @item.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
<% end %>

<%= form_for(@item) do |f| %>

  <fieldset>
    <div data-role="fieldcontain">
      <%= f.label :name, "品名" %>
      <%= f.text_field :name, :placeholder => "トイレットペーパー" %>
    </div>
    
    <div data-role="fieldcontain">
      <%= f.label :tag_list, "場所(カンマ区切り)" %>
      <%= f.text_field :tag_list %>
    </div>
    
    <div data-role="fieldcontain">
      <%= f.label :quantity, "数", data: {inline: "true" } %>
      <%= f.number_field :quantity, maxlength: 5, data: { highlight: "true", inline: "true" }, style: "width: 45px; display: inline-block"  %>
      <%= link_to "Plus", "#",  :id => "quantity_plus", :data => { role: "button", icon: "plus", iconpos: "notext", inline: "true" } %>
      <%= link_to "Minus", "#",  :id => "quantity_minus", :data => { role: "button", icon: "minus", iconpos: "notext", inline: "true" } %>
    </div>

    <%= f.submit "保存" %>
  </fieldset>
<% end %>

<script>
  $(document).ready(function() {
    $(document).on("click", "#quantity_plus", function(e) {
      $("#item_quantity").val(parseInt($("#item_quantity").val()) + 1);  
      return false;
    });
    $(document).on("click","#quantity_minus", function(e) {  
      count = parseInt($("#item_quantity").val());
      if (count > 0) {
        $("#item_quantity").val(count - 1);
      }
      return false;
    });
  });
</script>
